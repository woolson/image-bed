!function (e, t) { "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.Slider = t() : e.Slider = t() }("undefined" != typeof self ? self : this, function () { return function (e) { function t(i) { if (n[i]) return n[i].exports; var r = n[i] = { i: i, l: !1, exports: {} }; return e[i].call(r.exports, r, r.exports, t), r.l = !0, r.exports } var n = {}; return t.m = e, t.c = n, t.d = function (e, n, i) { t.o(e, n) || Object.defineProperty(e, n, { configurable: !1, enumerable: !0, get: i }) }, t.n = function (e) { var n = e && e.__esModule ? function () { return e.default } : function () { return e }; return t.d(n, "a", n), n }, t.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, t.p = "", t(t.s = 0) }([function (e, t, n) { "use strict"; function i(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } var r = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]) } return e }, a = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var i = t[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i) } } return function (t, n, i) { return n && e(t.prototype, n), i && e(t, i), t } }(), s = function () { function e(t) { i(this, e); var n = { animationType: "slide", animationDuration: 1e3, className: "my-slider", duration: 3e3, handlerActiveColor: "#F96048", handlerColor: "#E6E6E6", touchEvent: !1, height: "200px", width: "100vw" }; this.options = r({}, n, t), this.init() } return a(e, [{ key: "init", value: function () { var e = this.options, t = e.ele, n = e.width, i = e.height, r = e.className, a = e.animationType; e.touchEvent; if (this.$ele = document.getElementById(t), !this.$ele) return void console.error("slider box does not exist"); this.$ele.className = r + " slider__type--" + a + " slider", this.$ele.style.height = i, this.$ele.style.width = n, this.initContent(), this.initHandler(), this.initAnimation() } }, { key: "initSlideEvent", value: function (e) { var t = this, n = { startX: 0, startY: 0, endX: 0, endY: 0 }; e.addEventListener("touchstart", function (e) { var t = e.targetTouches[0] || {}; n.startX = t.clientX, n.startY = t.clientY }), e.addEventListener("touchmove", function (e) { var t = e.targetTouches[0] || {}; n.endX = t.clientX, n.endY = t.clientY }), e.addEventListener("touchend", function () { var e = n, i = e.endX, r = e.endY, a = e.startX, s = e.startY, o = document.body.clientWidth, l = i - a, c = r - s; Math.abs(l) > .3 * o && c < 80 && i && (clearInterval(t.timer), t.userEvent = a < i, t.currentIndex += a < i ? -1 : 1, t.initAnimation(), n = {}) }) } }, { key: "initHandlerEvent", value: function (e) { var t = this; e.addEventListener("touchstart", function (n) { var i = Array.from(e.children).findIndex(function (e) { return e === n.target }); -1 !== i && (clearInterval(t.timer), t.currentIndex = i, t.initAnimation()) }) } }, { key: "initContent", value: function () { var e = this.options, t = (e.className, e.images), n = e.touchEvent, i = e.animationDuration, r = ""; t.forEach(function (e, n) { r += '<li\n\t\t\t\tclass="slider__images__item"\n\t\t\t\tstyle="background-image: url(' + e + "); z-index: " + (t.length + 2 - n) + "; animation-duration: " + i + 'ms"\n\t\t\t/>' }); var a = document.createElement("UL"); a.className = "slider__images", a.innerHTML = r, n && this.initSlideEvent(a), this.$ele.appendChild(a) } }, { key: "initAnimation", value: function () { var e = this; this.timer = setInterval(function () { e.currentIndex += 1 }, this.options.duration) } }, { key: "initHandler", value: function () { for (var e = this.options, t = e.images, n = e.handlerColor, i = e.handlerActiveColor, r = (e.handlerSize, e.animationDuration), a = "", s = 0; s < t.length; s++)a += '<li\n\t\t\t\tclass="slider__handlers__item slider__handlers__item--' + (s ? "inactive" : "active") + '"\n\t\t\t\tstyle="background: ' + (s ? n : i) + "; animation-duration: " + r + 'ms"\n\t\t\t/>'; var o = document.createElement("UL"); o.className = "slider__handlers", o.innerHTML = a, this.initHandlerEvent(o), this.$ele.appendChild(o) } }, { key: "currentIndex", get: function () { return this.index || 0 }, set: function (e) { var t = this.currentIndex, n = this.options, i = n.images, r = n.handlerColor, a = n.handlerActiveColor, s = document.getElementsByClassName("slider__images__item"), o = document.getElementsByClassName("slider__handlers__item"), l = ""; e > i.length - 1 ? e = 0 : e < 0 && (e = i.length - 1), (e < t && this.userEvent || this.userEvent) && (l = "reverse", this.userEvent = !1), s[t].className = "slider__images__item slider__images__item--inactive " + l, o[t].className = "slider__handlers__item slider__handlers__item--inactive", o[t].style.background = r, s[e].className = "slider__images__item slider__images__item--active " + l, o[e].className = "slider__handlers__item slider__handlers__item--active", o[e].style.background = a, this.index = e } }]), e }(); e.exports = s }]) });
//# sourceMappingURL=slider.min.js.map